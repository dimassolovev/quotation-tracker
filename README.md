<div align="center">
    <img src="assets/introduction.gif" alt="Demo Quotation Tracker">
</div>

<div align="center">
    <h1>Quotation Tracker</h1>
</div>

**Quotation Tracker** – это система для мониторинга котировок с [Московской биржи](https://www.moex.com/en), которая реализует автоматическую обработку данных. Проект предназначен для агрегирования, хранения и предоставления данных о биржевых котировках по запросу пользователей.

<div align="center">
    <h1>Ключевые компоненты</h1>
</div>

1. **Quotation Data Aggregator Service** - сервис для парсинга данных с MOEX, который по установленному расписанию отправляет котировки в **Kafka**.
2. **Moex Data Service** - сервис, который получает данные из Kafka, сохраняет их в базу данных (**PostgreSQL**) и кэширует их в **Redis** для ускорения доступа к наиболее востребованной информации.
3. **Authentication Service** - сервис аутентификации, который предоставляет JWT-токены пользователям для доступа к данным.
4. **Инфраструктура Spring Cloud** - api gateway, config server, eureka server.

<div align="center">
    <h1>Архитектура проекта</h1>
</div>

### 1. Quotation Data Aggregator Service

Этот сервис занимается парсингом котировок с MOEX с помощью планировщика задач. Пользователь может настроить частоту выполнения задачи через конфигурационный файл application.yml. Данные о котировках отправляются в **Kafka**, который используется как очередь сообщений для доставки котировок другим сервисам системы.

**Задачи**:
- Парсинг данных с MOEX по расписанию.
- Отправка котировок в Kafka.

### 2. Moex Data Service

Этот сервис получает сообщения о котировках из **Kafka**, сохраняет их в базу данных **PostgreSQL** и кэширует наиболее запрашиваемые данные в **Redis** для ускорения обработки последующих запросов.

**Задачи**:
- Получение данных из Kafka.
- Сохранение данных в базе данных PostgreSQL.
- Кэширование данных в Redis.
- Обработка пользовательских запросов на получение котировок.

### 3. Authentication Service

Этот сервис управляет аутентификацией пользователей. Перед использованием **Quotation Tracker**, пользователю необходимо пройти аутентификацию и получить JWT-токен. Этот токен используется для авторизации доступа к сервисам, предоставляющим котировки.

**Задачи**:
- Аутентификация пользователя.
- Генерация JWT-токена для доступа к другим сервисам.

### 4. Observability

Для мониторинга состояния системы используются **Prometheus** и **Grafana**. Сервисы отправляют метрики в Prometheus, а графическое представление данных доступно в Grafana, где можно отслеживать производительность системы, нагрузку на сервисы и ошибки.

### 5. Infrastructure

Система полностью контейнеризирована с использованием **Docker**, что упрощает развертывание всех сервисов как в локальной среде разработки, так и в производственной среде.

<div align="center">
    <h1>Технологический стек</h1>
</div>

- **PostgreSQL** – реляционная база данных для хранения котировок.
- **Redis** – система кэширования данных для ускорения обработки частых запросов.
- **Kafka** – платформа для передачи сообщений между сервисами.
- **Prometheus** – система мониторинга для сбора и хранения метрик.
- **Grafana** – инструмент для визуализации метрик.
- **Docker** – для контейнеризации всех компонентов системы.
- **Swagger** - для автоматической генерации документации к API и облегчения взаимодействия с ним. 
- **Spring Cloud** – микросервисная архитектура, обеспечивающая взаимодействие сервисов и обработку данных.
